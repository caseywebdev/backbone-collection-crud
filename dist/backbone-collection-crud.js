// Generated by CoffeeScript 1.3.3
(function() {
  var Backbone, _;

  _ = (typeof window !== "undefined" && window !== null ? window._ : void 0) || require('underscore');

  Backbone = (typeof window !== "undefined" && window !== null ? window.Backbone : void 0) || require('backbone');

  _.extend(Backbone.Collection.prototype, {
    save: function(options) {
      var success,
        _this = this;
      options = options ? _.clone(options) : {};
      if (options.parse === void 0) {
        options.parse = true;
      }
      success = options.success;
      options.success = function(resp, status, options) {
        _this.reset(_this.parse(resp, options), options);
        typeof success === "function" ? success(_this, resp, status, options) : void 0;
        _this.trigger('sync', _this, resp, options);
      };
      return this.sync('create', this, options);
    },
    destroy: function(options) {
      var success,
        _this = this;
      options = options ? _.clone(options) : {};
      success = options.success;
      options.success = function(resp, status, options) {
        _this.reset([], options);
        typeof success === "function" ? success(_this, resp, status, options) : void 0;
        _this.trigger('sync', _this, resp, options);
      };
      return this.sync('delete', this, options);
    }
  });

}).call(this);
