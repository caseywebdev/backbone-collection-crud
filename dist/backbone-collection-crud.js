// Generated by CoffeeScript 1.3.3
(function() {
  var bind, _;

  _ = this._ || require('underscore');

  (typeof module !== "undefined" && module !== null ? module : {}).exports = bind = function(Backbone) {
    _.extend(Backbone.Collection.prototype, {
      save: function(options) {
        var success,
          _this = this;
        options = options ? _.clone(options) : {};
        if (options.parse === void 0) {
          options.parse = true;
        }
        success = options.success;
        options.success = function(resp, status, xhr) {
          _this.reset(_this.parse(resp, xhr), options);
          if (success) {
            return success(_this, resp, options);
          }
        };
        return this.sync('create', this, options);
      },
      destroy: function(options) {
        var success,
          _this = this;
        options = options ? _.clone(options) : {};
        success = options.success;
        options.success = function(resp, status, xhr) {
          _this.reset([], options);
          if (success) {
            return success(_this, resp, options);
          }
        };
        return this.sync('delete', this, options);
      }
    });
    return Backbone;
  };

  if (this.Backbone) {
    bind(Backbone);
  }

}).call(this);
